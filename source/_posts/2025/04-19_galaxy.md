---
title: Galaxy开发记录与心得
permalink: post/77/
excerpt: <!-- -->
date: 2025-04-19 01:43:01
tags: 编程 - Programming
---

我是steam上的Galimulator的重度玩家。但是它bug很多，更新又太慢。于是我打算自己写一个。

考虑到游戏运行时需要大量的计算，但没有复杂的显示内容，我打算使用c++，配合轻量级的游戏库SFML，来实现。游戏的名字暂定为Galaxy。

<br>

### 设计思路

Galimulator是一个在星系中模拟国家的游戏。玩家可以创建一个星系，星系中会自然诞生很多国家。国家之间会发生战争，和平等行为。国家的状态会发生变化。玩家不需要特地做什么，以“看海”为主。

在此基础上，Galaxy将基本保留Galimulator的玩法（即放置），删去一些不好复刻的功能，加入一些新的元素，比如文化系统，以及动态修路。

这里吐个槽：Galimulater的统计系统做的真不行，玩家既什么都不能做，又几乎什么都不能看，那游玩的意义何在？

综上，Galaxy需要的功能有：  
- 生成地图  
- 依据地图生成城市  
- 开发算法，为城市生成道路  
- 模拟国家行为，包括  
    - 国家生成  
    - 国家状态的演化（扩张，稳定，衰退）  
    - 国家之间的战争与和平  
    - 国家与城市之间的文化影响  
    - 科技发展  
    - 税收与开销  
    - 国家飞升（Galimulator独有的设定）  
    - 国家灭亡  
- 绘制地图，城市，道路  
- 鼠标点击国家时，高亮国家领土，并绘制数据统计图（以满足我对“统计”的怪癖）  

<br>

游戏的主框架花了3天就写完了。其余的功能和debug花了我2周的业余时间。说实在的，这个项目没什么难度。

<br>

### 心得体会

我的c++水平在开发此项目中提升飞快。“干中学”一定是最好的学习方法。

c++的搭建环境，编译，调试，运行都比python复杂很多。开发速度也很慢。对于我来说，如果有什么着急的项目，还是得用python。

开发python时，往往不会亲自手写算法，因为有很多现成的库，其中的代码也往往被优化过。而c++安装一个库非常麻烦，且库中的代码再优化，相比自己写的代码也很难有绝对优势。所以在c++中，很多时候需要自己手写算法。比如我在判断城市边界时，就<p class="tennisbot" id="还不是在github上抄的">“手写”</p>了寻找凸包的算法。

慎用AI辅助编程！一定要仔细检查AI生成的代码。我相信1年后AI一定比人强，但现在还不行。

接上，注释清晰，变量命名规范，项目结构规范，都有助于让AI更理解此项目，减少错误。

对于游戏开发来说，游戏设计，运营，甚至游戏心理学都相当重要，代码可能是最不重要的部分了。我花了2周写完的游戏，2天就玩腻了。